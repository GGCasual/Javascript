<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<style>
    #map{
        height: 400px;
        width: 100%;
    }
</style>

<body>
    <div id="map">

    </div>

    <script>

        var options = {
            center: {lat: 29.7604 , lng: -95.3698},
            zoom: 10
        }

    function initMap() {
        var maps = new google.maps.Map(document.getElementById('map'), options)

        //add marker when user clicks
        google.maps.event.addListener(maps, 'click', (event) => {
            addMarker({coords: event.latLng})
        })

        function addMarker(props){
            var marker = new google.maps.Marker({
                position: props.coords,
                map: maps
            })
        }

            if (props.image){
                marker.setIcon(props.image)
            }

            if (props.infoWindow){
                var infoWindow = new google.maps.InfoWindow({
                    content: props.infoWindow
                })
            }

            marker.addListener('click', ()=>{
                infoWindow.open(maps, marker)
            })

        //marker click info
        var infoWindow = new google.maps.InfoWindow({
            content: '<h1>Houston, TX</h1>'
        })

        addMarker({coords: {lat: 29.706 , lng: -95.3698},
                    image: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                    infoWindow: ''}) //houston
        addMarker({coords: {lat: 29.78586 , lng: -95.8244},
                    image: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                    infoWindow: ''}) //katy
        addMarker({coords: {lat: 29.9119, lng: -95.0622},
                    image: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                    infoWindow: ''}) //crosby

        // add marker
        // var marker = new google.maps.Marker({
        //     position: {lat: 29.706 , lng: -95.3698},
        //     map: map
        // })

        //marker click info
        // var infoWindow = new google.maps.InfoWindow({
        //     content: '<h1>Houston, TX</h1>'
        // })

        // marker.addListener('click', ()=>{
        //     infoWindow.open(map, marker)
        // })
    }

    </script>

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCTLHA4kWqkubsSo6VGTsiWl_lhhs9TNAQ&callback=initMap"
    async defer></script>
</body>
</html>